!!! XML
!!! Transitional
%html{html_attrs}
  %head
    %meta{'http-equiv' => 'Content-Type', :content => 'text/html; charset=UTF-8'}
    %title Big Sheet
    
    %link{:rel => 'stylesheet', :type => 'text/css', :media => 'screen', :charset => 'utf-8', :href => '/css/main.css'}
    %link{:rel => 'stylesheet', :type => 'text/css', :media => 'screen', :charset => 'utf-8', :href => '/css/autocomplete.css'}
    %link{:rel => 'stylesheet', :type => 'text/css', :media => 'screen', :charset => 'utf-8', :href => '/facebox/facebox.css'}
      
    %script{:type => 'text/javascript', :src => '/javascript/jquery.js'}
    %script{:type => 'text/javascript', :src => '/javascript/bigsheet.js'}
    %script{:type => 'text/javascript', :src => '/facebox/facebox.js'}
    %script{:type => 'text/javascript', :src => '/javascript/dataTables.js'}
    %script{:type => 'text/javascript', :src => '/javascript/autocomplete.js'}
    
    %script{:type => 'text/javascript'}
      :plain
        $(document).ready(function() {
          $('#main_table').dataTable({
            bProcessing: true,
            bPaginate: false,
            bInfo: false,
            bFilter: false,
            aaSorting: [[1, 'asc'], [2, 'asc']]
          });
        });
  
  %body.home
    #headerWrapper
      #mainBg
        .container
          .container2
            .container3
              .container4
                #mainHeader
                  %h1
                    %a{:href => '/'} Comparing Legislator Votes and their Constituencies
                #headerNav
                  #filter
                    %h2 Legislator Fields
                    %form#filter_form
                      %ul
                        %li
                          %input{:class => 'party', :type => 'checkbox', :value => '1', :name => 'legislator[party]', :id => 'legislator_party'}
                          %label{:for => 'legislator_party'} Party
                        %li
                          %input{:class => 'gender', :type => 'checkbox', :value => '1', :name => 'legislator[gender]', :id => 'legislator_gender'}
                          %label{:for => 'legislator_gender'} Gender
                  #filterNav
                    %ul
                      %li#House
                        %a{:href => '#'} House
                      %li#Senate
                        %a{:href => '#'} Senate
                      %li#All
                        %a{:href => '#'} All
                #mainContent
                  %table#main_table.display
                    %thead
                      %tr#titles
                        - sort_by_ref(@data.keys, source_keys).each do |source|
                          - sort_fields(@data[source].keys, source).each do |column|
                            %th{:title => @data[source][column][:title], :class => "#{source}_#{column}"}
                              = @data[source][column][:header] ? @data[source][column][:header] : column.to_s.titleize
                    %tbody
                      - @legislators.each do |legislator|
                        %tr{:class => cycle_row}
                          - sort_by_ref(@data.keys, source_keys).each do |source|
                            - sort_fields(@data[source].keys, source).each do |column|
                              %td{:class => "#{source}_#{column}"}
                                = @data[source][column][legislator.bioguide_id]